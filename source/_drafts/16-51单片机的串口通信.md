---
title: 16. 51单片机的串口通信
categories:
  - 单片机
  - 51单片机
tags:
  - 串口通信
---

### 什么是 UART
> UART是通用异步收发器（异步串行通信口）的英文缩写(Universal Asynchronous Receiver/Transmitte)，它包括了RS232、RS449、RS423、RS422和RS485等接口标准规范和总线标准规范，即UART是异步串行通信口的总称。

> 而RS232、RS449、RS423、RS422和RS485等，是对应各种异步串行通信口的接口标准和总线标准，它规定了通信口的电气特性、传输速率、连接特性和接口的机械特性等内容。
> 实际上是属于通信网络中的实体层（Physical Layer）的概念，与通信协议没有直接关系。

> 而通信协议，是属于通信网络中的资料链接层（Data Link Layer）的概念。 COM是PC（个人计算机）上，异步串行通信口的简写。由于历史原因，IBM的PC外部接口配置为RS232，成为实际上的PC界默认标准。所以，现在PC机的COM均为RS232。若配有多个异步串行通信口，则分别称为COM1、COM2... 。

<!-- more -->

### 相关寄存器
| 名称 | 地址   | 作用及说明                             |
|------|------|---------------------------------------|
| TCON | 0x88 | 定时器控制寄存器，用于波特率发生器          |
| TMOD | 0x89 | 定时器工作模式寄存器，用于波特率发生器       |
| [SCON](#SCON) | 0x98 | 串行控制寄存器 Serial Control Register   |
| [SBUF](#SBUF) | 0x99 | 串行缓冲寄存器，用于保存要发送或要接收的数据  |

### SCON
|  7  |  6  |  5  |  4  |  3  |  2  |  1  |  0  |
|-----|-----|-----|-----|-----|-----|-----|-----|
| SM0 | SM1 | SM2 | REN | TB8 | RB8 | TI  | RT  |

- SM0 SM1 串口方式设置位
| SM0 | SM1 | 模式 | 说明 | 波特率 |
|-----|-----|-----|------|-------|
|  0  |  0  |  0  | 8位串口 | 1/12晶震频率 |
|  0  |  1  |  1  | 8位串口 | 由定时器1的溢出率决定 |
|  0  |  1  |  2  | 9位串口 | 由定时器1的溢出率决定 |
|  0  |  1  |  3  | 9位串口 | 由定时器1的溢出率决定 |

### SBUF

### 实验代码
